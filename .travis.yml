language: cpp

before_install:
- sudo add-apt-repository --yes ppa:ubuntu-sdk-team/ppa
- if [ "$CXX" = "g++" ]; then sudo add-apt-repository ppa:ubuntu-toolchain-r/test; fi
- sudo apt-get update -qq
- sudo apt-get install libopencv-dev
- sudo apt-get install qtbase5-dev qtdeclarative5-dev libqt5webkit5-dev libsqlite3-dev
- sudo apt-get install qt5-default qttools5-dev-tools
- if [ "$CXX" = "g++" ]; then sudo apt-get install gcc-4.8 g++-4.8; sudo update-alternatives --remove-all gcc; sudo update-alternatives --remove-all g++; sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8 20; sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.8 20; sudo update-alternatives --config gcc; sudo update-alternatives --config g++ fi
#- sudo add-apt-repository "deb http://archive.ubuntu.com/ubuntu trusty universe"
#- sudo add-apt-repository "deb http://archive.ubuntu.com/ubuntu trusty main"
#- sudo apt-get install qdbus qmlscene qt5-default qt5-qmake qtbase5-dev-tools qtchooser qtdeclarative5-dev libqt5svg5-dev qttools5-dev qtscript5-dev -y

script:
- cd Application
- if [ "$CXX" = "clang++" ]; then qmake -qt=qt5 -spec linux-clang ; fi
- if [ "$CXX" != "clang++" ]; then qmake -qt=qt5 DEFINES+="final=Q_DECL_FINAL" ; fi
- make

compiler:
#- clang
- gcc

notifications:
  email: false